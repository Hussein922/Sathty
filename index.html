<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="سطحة هيدروليك لخدمات نقل السيارات داخل وخارج المدينة بسرعة وأمان." />
  <meta name="theme-color" content="#001f3f" />
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="css/style.css" />
  <title>سطحة هيدروليك</title>
</head>
<body>
  <header>
    <h1>سطحة هيدروليك</h1>
    <p class="subtitle">خدمة نقل سيارات آمنة وسريعة</p>
    <p class="greeting" id="greeting"></p>
  </header>

  <main class="services">
    <h2>خدماتنا</h2>
    <ul id="service-list"></ul>
  </main>

  <div class="floating-buttons">
    <a href="tel:0500000000" class="call-btn">اتصل الآن</a>
    <a href="https://wa.me/966500000000" class="whatsapp-btn" target="_blank">واتساب</a>
  </div>

  <button id="topBtn" onclick="scrollToTop()">أعلى</button>

  <script>
    // تخصيص التحية حسب الوقت
    const greeting = document.getElementById("greeting");
    const hour = new Date().getHours();
    greeting.textContent =
      hour < 12
        ? "صباح الخير! نحن في خدمتك الآن."
        : hour < 18
        ? "مساء الخير! تواصل معنا لأي مساعدة."
        : "مرحبًا بك في أي وقت، اتصل بنا فورًا!";

    // تحميل الخدمات من ملف JSON
    fetch("data.json")
      .then(res => res.json())
      .then(data => {
        const list = document.getElementById("service-list");
        data.services.forEach(service => {
          const li = document.createElement("li");
          li.textContent = service;
          list.appendChild(li);
        });
      });

    // زر العودة للأعلى
    const topBtn = document.getElementById("topBtn");
    window.onscroll = function () {
      topBtn.style.display = window.scrollY > 100 ? "block" : "none";
    };
    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    // تسجيل Service Worker
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("sw.js");
    }
  </script>
</body>
</html>
